<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Save the Robot</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Orbitron', sans-serif;
      margin: 0;
      padding: 0;
      overflow: hidden;
      position: relative;
      color: #00c8ff;
      text-align: center;
    }
    input[type="text"],
select {
  padding: 14px;
  font-size: 1.1em;
  color: #00ffcc;
  background: rgba(0, 0, 0, 0.3);
  border: 2px solid #00ffcc;
  border-radius: 10px;
  backdrop-filter: blur(10px);
  box-shadow: 0 0 12px #00ffcc;
  transition: box-shadow 0.3s ease, transform 0.2s ease;
}

input[type="text"]:focus {
  box-shadow: 0 0 25px #00ffff;
  transform: scale(1.02);
}

  
#timer {
  position: fixed;
  top: 20px;
  right: 20px;
  background: rgba(0, 255, 0, 0.1);
  padding: 12px 20px;
  border-radius: 12px;
  font-size: 1.5em;
  color: #00ffcc;
  border: 2px solid #00ffcc;
  box-shadow: 0 0 15px #00ffcc;
  font-weight: bold;
  transition: all 0.3s ease-in-out;
}

input[type="text"]:focus {
  box-shadow: 0 0 20px #00ffff;
}
label {
  display: block;
  margin: 12px 0;
  font-size: 1.1em;
  color: #00ffcc;
  text-shadow: 0 0 5px #00ffff;
}
.btn {
  position: relative;
  overflow: hidden;
  font-size: 1.2em;
  padding: 14px 30px;
  border: none;
  border-radius: 12px;
  color: #000;
  background: linear-gradient(135deg, #00ffcc, #0077ff);
  box-shadow: 0 0 15px #00ffcc;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
}

.btn::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 100%;
  transform: translate(-50%, -50%);
  transition: width 0.4s ease, height 0.4s ease;
}

.btn:hover::after {
  width: 200%;
  height: 500%;
}

.btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 10px #00ffff, 0 0 10px #0077ff;
}



    video#backgroundVideo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
      /* Ensures video stays behind content */
    }

    h1 {
      font-size: 3em;
      text-shadow: 0 0 10px #00eeff;
    }

    .hidden {
      display: none;
    }

    .btn {
      background: #00ddff;
      color: #000;
      padding: 10px 20px;
      font-size: 1.2em;
      border: none;
      cursor: pointer;
      margin-top: 20px;
    }

    .challenge-box {
      border: 2px solid #000000;
      padding: 20px;
      margin: 20px auto;
      max-width: 600px;
      box-shadow: 0 0 20px #00f7ff;
      background-color: #000;
      opacity: 0;
      transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
      transform: translateY(20px);
    }

    .challenge-box.visible {
      opacity: 1;
      transform: translateY(0);
    }

    #timer {
  position: fixed;
  top: 20px;
  right: 20px;
  padding: 12px 24px;
  font-size: 1.8em;
  font-weight: bold;
  font-family: 'Orbitron', sans-serif;
  background: linear-gradient(145deg, #111, #1a1a1a);
  border: 2px solid #00ffd5;
  border-radius: 16px;
  color: #00ffd5;
  text-shadow: 0 0 10px #00ffd5, 0 0 20px #00ffd5;
  box-shadow: 0 0 20px rgba(0, 255, 213, 0.6), inset 0 0 10px rgba(0, 255, 213, 0.3);
  z-index: 999;
  transition: all 0.3s ease-in-out;
  animation: glowPulse 2s infinite ease-in-out;
}
@keyframes glowPulse {
  0% {
    box-shadow: 0 0 15px rgba(0, 255, 213, 0.6), inset 0 0 5px rgba(0, 255, 213, 0.3);
  }
  50% {
    box-shadow: 0 0 30px rgba(0, 255, 213, 0.9), inset 0 0 15px rgba(0, 255, 213, 0.4);
  }
  100% {
    box-shadow: 0 0 15px rgba(0, 255, 213, 0.6), inset 0 0 5px rgba(0, 255, 213, 0.3);
  }
}


    #score,
    #lives {
      font-size: 1.5em;
      margin: 10px;
      color: #14ebff;
      text-shadow: 0 0 8px #14ebff;
    }

    input[type="text"],
    select {
      font-size: 1.2em;
      padding: 10px;
      margin-top: 15px;
    }

    label {
      display: block;
      margin: 10px 0;
      font-size: 1.1em;
    }

    #hangmanContainer {
      position: absolute;
      top: 10px;
      left: 10px;
      width: 200px;
      height: 250px;
      border: 3px solid #00e1ff;
      /* Box border */
      padding: 20px;
      box-shadow: 0 0 20px #00f2ff;
      background: rgba(0, 0, 0, 0.5);
      /* Semi-transparent background */
    }

    #hangmanImg {
      width: 100%;
      transition: opacity 0.3s ease-in-out;
    }

    #livesBar {
      width: 300px;
      height: 20px;
      border: 2px solid #00e1ff;
      margin: 0 auto 20px;
      background: rgba(0, 255, 0, 0.1);
    }

    #livesFill {
      height: 100%;
      background: #00e5ff;
      width: 100%;
      transition: width 0.4s ease-in-out;
    }

    /* Popup styles */
    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 400px;
      padding: 20px;
      background-color: rgba(0, 0, 0, 0.8);
      border: 2px solid #00eaff;
      box-shadow: 0 0 20px #00d5ff;
      text-align: center;
      color: #00f2ff;
      font-size: 1.5em;
      display: none;
    }

    .popup.visible {
      display: block;
    }
    /* Name Input Box Styles */
#nameInputBox {
  background-color: #000;
  color: #0ff;
  padding: 30px;
  border-radius: 15px;
  width: 300px;
  text-align: center;
  margin: 100px auto;
  box-shadow: 0 0 20px #0ff, 0 0 10px #00f;
  font-family: 'Orbitron', sans-serif;
  animation: glowPulse 2s infinite;
}

#nameInputBox h2 {
  margin-bottom: 20px;
  font-size: 1.5em;
}

#playerName {
  padding: 10px;
  width: 80%;
  margin-bottom: 15px;
  border: none;
  border-radius: 8px;
  font-size: 1em;
  text-align: center;
  background-color: #111;
  color: #0ff;
  box-shadow: inset 0 0 10px #0ff;
}

#nameInputBox button {
  background-color: #0ff;
  color: #000;
  border: none;
  padding: 10px 20px;
  font-weight: bold;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s ease;
}

#nameInputBox button:hover {
  background-color: #00f;
  color: #fff;
}

  </style>
</head>

<body>
  <!-- Background video -->
  <video id="backgroundVideo" autoplay loop muted>
    <source src="binary.mp4" type="video/mp4"> <!-- Replace with your video URL -->
    Your browser does not support the video tag.
  </video>

  <!-- Hangman Container -->
  <div id="hangmanContainer">
    <img id="hangmanImg" src="hangma0.jpg" alt="Hangman Progress" />
  </div>

  <h1>Save the Robot</h1>
  <div id="startScreen">
    <p>Enter your name to begin the mission:</p>
    <div id="nameInputBox">

    <input type="text" id="playerName" placeholder="Your Name" />
    <button class="btn" onclick="startGame()">Start Game</button>
    </div>
  </div>

  <div id="gameScreen" class="hidden">
    <div id="timer">Time Left: 20:00</div>
    <div id="score">Score: 0 / 10</div>
    <div id="lives">Lives Remaining</div>
    <div id="livesBar">
      <div id="livesFill"></div>
    </div>
    <div id="challengeBox" class="challenge-box"></div>
    <button id="submitBtn" class="btn" onclick="submitAnswer()">Submit Answer</button>
  </div>

  <div id="victoryScreen" class="hidden">
    <h2>ðŸŽ‰ Mission Complete!</h2>
    <p>You saved the robot in time!</p>
  </div>

  <div id="timeoutScreen" class="hidden">
    <h2>ðŸ’¥ Mission Failed!</h2>
    <p>Time's up or too many mistakes. The robot couldn't be saved.</p>
  </div>

  <audio id="wrongSound" src="wrong.mp3" preload="auto"></audio>

  <!-- Popup -->
  <div id="gameOverPopup" class="popup">
    <p>Game Over! The Robot is Dead!</p>

  </div>

  <script>
    let currentChallenge = 0;
    let score = 0;
    let wrongAttempts = 0;
    let timer;
    let timeRemaining = 20 * 60;

    function startGame() {
  const name = document.getElementById('playerName').value.trim();
  if (!name) return alert("Enter your name to start!");

  // Hide the start screen and show the game screen
  document.getElementById('startScreen').classList.add('hidden');
  document.getElementById('gameScreen').classList.remove('hidden');

  // Change the background of the page after submitting the name
  document.body.style.backgroundImage = "vecteezy_abstract-blue-geometric-shapes-background_7679780.jpg";
  document.body.style.backgroundSize = "cover";  // Ensures the background image covers the entire screen
  document.body.style.backgroundPosition = "center"; // Keeps the background centered
  
  startTimer();
  showChallenge();
}

    const quizzes = [
      {
        question: "What is the output of the following C code?\n\nint arr[] = {5, 10, 15};\nprintf(\"%d\", *(arr + 1));",
        type: "multiple",
        options: ["5", "10", "15"],
        answer: "10"
      },
      {
        question: "Which of the following is the correct implementation of a stack using an array?",
        type: "multiple",
        options: [
          "Stack top = -1; Push and Pop use array index as reference",
          "Stack top = 0; Push and Pop modify the first element",
          "Stack uses a linked list for dynamic allocation"
        ],
        answer: "Stack top = -1; Push and Pop use array index as reference"
      },
      {
        question: "Which of the following statements is true about a queue?",
        type: "multiple",
        options: ["FIFO structure", "LIFO structure", "Elements can be inserted at any position"],
        answer: "FIFO structure"
      },
      {
        question: "What is the time complexity of bubble sort in the worst case?",
        type: "multiple",
        options: ["O(n)", "O(n^2)", "O(log n)"],
        answer: "O(n^2)"
      },
      {
        question: "Which sorting algorithm is best for small datasets?",
        type: "multiple",
        options: ["Quick Sort", "Merge Sort", "Insertion Sort"],
        answer: "Insertion Sort"
      },
      {
        question: "Which of the following operations on a linked list takes O(1) time?",
        type: "multiple",
        options: ["Insertion at the beginning", "Insertion at the end", "Deletion from the middle"],
        answer: "Insertion at the beginning"
      },
      {
        question: "Which of the following is true about a binary tree?",
        type: "multiple",
        options: ["Each node has at most two children", "The left child is always smaller than the right", "Both subtrees are always balanced"],
        answer: "Each node has at most two children"
      },
      {
        question: "What is the output of the following C code?\n\n#include <stdio.h>\nint main() {\n  int arr[] = {1, 2, 3, 4};\n  printf(\"%d\", *(arr + 2));\n  return 0;\n}",
        type: "multiple",
        options: ["1", "2", "3"],
        answer: "3"
      },
      {
        question: "What is the output of the following C code?\n\n#include <stdio.h>\nint main() {\n  int x = 5;\n  if(x == 5) {\n    printf(\"Correct\");\n  } else {\n    printf(\"Wrong\");\n  }\n  return 0;\n}",
        type: "multiple",
        options: ["Correct", "Wrong", "Compilation error"],
        answer: "Correct"
      },
      {
        question: "What is the output of the following C code?\n\n#include <stdio.h>\nint main() {\n  int x = 0;\n  printf(\"%d \", x++); // What is printed?\n  printf(\"%d\", ++x); // What is printed next?\n  return 0;\n}",
        type: "multiple",
        options: ["0 2", "0 1", "1 1"],
        answer: "0 2"
      }
    ];
    const puzzles = [
      {
        question: "Reverse a linked list without using recursion or any extra space. What's the new head's value if list is: 1 -> 2 -> 3 -> 4?",
        type: "text",
        answer: "4"
      },
      {
        question: "You push the elements 10, 20, 30 into a stack and pop once. What is the top element now?",
        type: "text",
        answer: "20"
      },
      {
        question: "Given a binary tree where each node has 0 or 2 children and 5 nodes total, how many leaf nodes will it have?",
        type: "text",
        answer: "3"
      },
      {
        question: "If a queue has elements inserted as 1, 2, 3 and one deletion is made, which element is at the front?",
        type: "text",
        answer: "2"
      },
      {
        question: "Given the array [3, 1, 4, 2], after one full pass of bubble sort, what is the array?",
        type: "text",
        answer: "1 3 2 4"
      },
      {
        question: "What will be the output of this C snippet?\n\nint a = 10, b = 20;\nprintf(\"%d\", a + ++b);",
        type: "text",
        answer: "31"
      },
      {
        question: "Given a binary tree where each node has 0 or 2 children and 5 nodes total, how many leaf nodes will it have?",
        type: "text",
        answer: "3"
      },
      {
        question: "How many times will 'Hello' be printed?\n\nfor(int i=1; i<10; i*=2)\nprintf(\"Hello\\n\");",
        type: "text",
        answer: "4"
      },
      {
        question: "You are given a stack with the sequence 5, 10, 15 (from bottom to top). What will be the sequence after reversing it using another stack?",
        type: "text",
        answer: "15 10 5"
      }
    ];

    function startGame() {
      const name = document.getElementById('playerName').value.trim();
      if (!name) return alert("Enter your name to start!");

      document.getElementById('startScreen').classList.add('hidden');
      document.getElementById('gameScreen').classList.remove('hidden');
      startTimer();
      showChallenge();
    }

    function startTimer() {
      updateTimerDisplay();
      timer = setInterval(() => {
        timeRemaining--;
        updateTimerDisplay();
        if (timeRemaining <= 0) {
          clearInterval(timer);
          showTimeout();
        }
      }, 1000);
    }

    function updateTimerDisplay() {
      const minutes = Math.floor(timeRemaining / 60).toString().padStart(2, '0');
      const seconds = (timeRemaining % 60).toString().padStart(2, '0');
      document.getElementById('timer').textContent = `Time Left: ${minutes}:${seconds}`;
    }

    function showChallenge() {
      const box = document.getElementById('challengeBox');
      box.innerHTML = "";
      box.classList.remove('visible');
      setTimeout(() => {
        let isPuzzle = currentChallenge % 2 === 0;
        const index = Math.floor(currentChallenge / 2);
        const data = isPuzzle ? puzzles[index] : quizzes[index];

        const q = document.createElement('p');
        q.textContent = data.question;
        box.appendChild(q);

        if (data.type === "text") {
          const input = document.createElement('input');
          input.type = "text";
          input.id = "answerInput";
          box.appendChild(input);
        } else if (data.type === "multiple") {
          data.options.forEach(opt => {
            const label = document.createElement('label');
            const radio = document.createElement('input');
            radio.type = "radio";
            radio.name = "mcq";
            radio.value = opt;
            label.appendChild(radio);
            label.appendChild(document.createTextNode(" " + opt));
            box.appendChild(label);
          });
        }

        box.classList.add('visible');
      }, 300);
    }

    function submitAnswer() {
      const isPuzzle = currentChallenge % 2 === 0;
      const index = Math.floor(currentChallenge / 2);
      const data = isPuzzle ? puzzles[index] : quizzes[index];

      let correct = false;
      if (data.type === "text") {
        const userAnswer = document.getElementById('answerInput').value.trim().toLowerCase();
        if (userAnswer === data.answer.toLowerCase()) correct = true;
      } else {
        const selected = document.querySelector('input[name="mcq"]:checked');
        if (selected && selected.value === data.answer) correct = true;
      }

      if (correct) {
        score++;
        document.getElementById('score').textContent = `Score: ${score} / 10`;
        currentChallenge++;
        if (currentChallenge >= 10) {
          clearInterval(timer);
          document.getElementById('gameScreen').classList.add('hidden');
          document.getElementById('victoryScreen').classList.remove('hidden');
        } else {
          showChallenge();
        }
      } else {
        document.getElementById('wrongSound').play();
        wrongAttempts++;
        updateHangmanImage();
        updateLivesBar();
        if (wrongAttempts >= 6) {
          clearInterval(timer);
          showGameOverPopup();
        }
      }
    }

    function updateHangmanImage() {
      const img = document.getElementById('hangmanImg');
      img.style.opacity = 0;
      setTimeout(() => {
        img.src = `hangma${wrongAttempts}.jpg`;
        img.style.opacity = 1;
      }, 300);
    }

    function updateLivesBar() {
      const fill = document.getElementById('livesFill');
      const percent = ((6 - wrongAttempts) / 6) * 100;
      fill.style.width = percent + '%';
    }

    function showTimeout() {
      document.getElementById('gameScreen').classList.add('hidden');
      document.getElementById('timeoutScreen').classList.remove('hidden');
    }

    // Show Game Over popup
    function showGameOverPopup() {
      document.getElementById('gameOverPopup').classList.add('visible');
    }

    function restartGame() {
      document.getElementById('gameOverPopup').classList.remove('visible');
      location.reload();
    }
  </script>
</body>

</html>